<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>惠王中心小学学生科学素养测评系统</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- 登录页面 - 默认显示 -->
        <section id="login-page" class="login-page">
            <h1 class="system-title">惠王中心小学学生科学素养测评系统</h1>
            <p class="system-subtitle">科学测评，助力成长</p>
            <div class="login-form-container">
                <h3>管理员登录</h3>
                <div class="login-form">
                    <div class="form-group">
                        <label for="admin-username">用户名</label>
                        <input type="text" id="admin-username" placeholder="请输入用户名">
                    </div>
                    <div class="form-group">
                        <label for="admin-password">密码</label>
                        <div class="password-input-container">
                            <input type="password" id="admin-password" placeholder="请输入密码">
                            <button type="button" id="toggle-password-btn" class="toggle-password-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <button id="login-btn" class="btn btn-primary">登录系统</button>
                        <button id="forgot-password-btn" class="btn btn-link">忘记密码？</button>
                    </div>
                </div>
            </div>
        </section>

        <header style="display: none;">
            <h1>惠王中心小学学生科学素养测评系统</h1>
            <p>通过科学的测评方法，全面评估我校学生的科学素养水平</p>
        </header>

        <nav style="display: none;">
            <ul>
                <li><a href="#student-info" class="active">学生信息</a></li>
                <li><a href="#test">科学素养测试</a></li>
                <li><a href="#results">测评报告</a></li>
                <li><a href="#admin">后台管理</a></li>
            </ul>
        </nav>

        <main>
            <!-- 学生信息 -->
            <section id="student-info" style="display: none;">
                <h2>学生基本信息</h2>
                <div class="student-form">
                    <div class="form-group">
                        <label for="student-name">学生姓名</label>
                        <input type="text" id="student-name" placeholder="请输入学生姓名">
                    </div>
                    <div class="form-group">
                        <label for="student-grade">年级</label>
                        <select id="student-grade">
                            <option value="1">一年级</option>
                            <option value="2">二年级</option>
                            <option value="3">三年级</option>
                            <option value="4">四年级</option>
                            <option value="5">五年级</option>
                            <option value="6">六年级</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="student-class">班级</label>
                        <input type="text" id="student-class" placeholder="请输入班级">
                    </div>
                    <div class="form-group">
                        <label for="test-date">测评日期</label>
                        <input type="date" id="test-date">
                    </div>
                    <div class="form-group">
                        <button id="save-info-btn" class="btn">保存信息</button>
                    </div>
                </div>
            </section>

            <!-- 科学素养测试 -->
            <section id="test" style="display: none;">
                <h2>科学素养测试</h2>
                <div class="test-container">
                    <div class="test-progress">
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="current-question">1</span>/<span id="total-questions">40</span>
                        </div>
                    </div>
                    
                    <div class="test-question" id="test-question">
                        <!-- 动态生成的问题内容 -->
                    </div>
                    
                    <div class="test-navigation">
                        <button id="prev-btn" class="btn" disabled>上一题</button>
                        <button id="next-btn" class="btn">下一题</button>
                        <button id="submit-btn" class="btn btn-primary" style="display: none;">提交测试</button>
                    </div>
                </div>
            </section>

            <!-- 测评报告 -->
            <section id="results" style="display: none;">
                <h2>测评报告</h2>
                <div class="results-container">
                    <div class="student-info-display">
                        <h3>学生信息</h3>
                        <div class="info-display">
                            <div class="info-item">
                                <label>姓名：</label>
                                <span id="display-student-name">--</span>
                            </div>
                            <div class="info-item">
                                <label>年级：</label>
                                <span id="display-student-grade">--</span>
                            </div>
                            <div class="info-item">
                                <label>班级：</label>
                                <span id="display-student-class">--</span>
                            </div>
                            <div class="info-item">
                                <label>测评日期：</label>
                                <span id="display-test-date">--</span>
                            </div>
                        </div>
                    </div>

                    <div class="comprehensive-result">
                        <h3>综合测评结果</h3>
                        <div class="score-display">
                            <div class="score-item">
                                <label>综合得分：</label>
                                <span id="comprehensive-score">--</span>
                            </div>
                            <div class="score-item">
                                <label>等级：</label>
                                <span id="score-grade">--</span>
                            </div>
                            <div class="score-item">
                                <label>评价：</label>
                                <span id="score-description">--</span>
                            </div>
                        </div>
                    </div>

                    <div class="detailed-results">
                        <h3>各维度详细结果</h3>
                        <div class="dimension-results">
                            <div class="dimension-item">
                                <label>科学知识：</label>
                                <span id="science-knowledge-score">--</span>
                                <span id="science-knowledge-grade">--</span>
                            </div>
                            <div class="dimension-item">
                                <label>科学探究能力：</label>
                                <span id="inquiry-ability-score">--</span>
                                <span id="inquiry-ability-grade">--</span>
                            </div>
                            <div class="dimension-item">
                                <label>科学态度与情感：</label>
                                <span id="attitude-emotion-score">--</span>
                                <span id="attitude-emotion-grade">--</span>
                            </div>
                            <div class="dimension-item">
                                <label>科学、技术与社会的关系：</label>
                                <span id="sts-relation-score">--</span>
                                <span id="sts-relation-grade">--</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="radar-chart" width="400" height="300"></canvas>
                        </div>
                    </div>

                    <div class="analysis-report">
                        <h3>素养分析报告</h3>
                        <div style="text-align: right; margin-bottom: 10px;">
                            <button id="download-report-btn" class="btn btn-sm btn-primary">下载报告</button>
                        </div>
                        <div id="analysis-report">
                            <p>请先完成测评并生成报告...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 后台管理 -->
            <section id="admin" style="display: none;">
                <h2>后台管理</h2>
                <div class="admin-container">
                    <!-- 管理员登录 -->
                    <div id="admin-login" class="admin-section" style="display: none;">
                        <h3>管理员登录</h3>
                        <form id="admin-login-form" class="login-form">
                            <div class="form-group">
                                <label for="admin-username">用户名</label>
                                <input type="text" id="admin-username" placeholder="请输入用户名">
                            </div>
                            <div class="form-group">
                                <label for="admin-dashboard-password">密码</label>
                                <div class="password-input-container">
                                    <input type="password" id="admin-dashboard-password" placeholder="请输入密码">
                                    <button type="button" id="toggle-dashboard-password-btn" class="toggle-password-btn">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                            <circle cx="12" cy="12" r="3"></circle>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="form-group">
                                <button type="submit" id="admin-login-btn" class="btn btn-primary">登录</button>
                                <button id="forgot-password-btn" class="btn btn-link">忘记密码？</button>
                            </div>
                        </form>
                    </div>

                    <!-- 管理员控制台 -->
                    <div id="admin-dashboard" class="admin-section" style="display: none;">
                        <div class="admin-header">
                            <h3>管理员控制台</h3>
                            <button id="logout-btn" class="btn btn-danger">退出登录</button>
                        </div>
                        
                        <div class="admin-nav">
                            <button class="admin-nav-btn active" data-tab="data-management">数据管理</button>
                            <button class="admin-nav-btn" data-tab="reports">测评报告</button>
                            <button class="admin-nav-btn" data-tab="settings">系统设置</button>
                        </div>

                        <!-- 数据管理 -->
                        <div id="data-management" class="admin-tab active">
                            <h4>学生数据管理</h4>
                            <div class="form-group" style="margin-bottom: 20px;">
                                <button id="import-data-btn" class="btn btn-sm btn-success">导入数据</button>
                                <input type="file" id="data-file-input" accept=".json" style="display: none;">
                                <button id="export-data-btn" class="btn btn-sm btn-primary" style="margin-left: 10px;">导出数据</button>
                                <button id="sync-data-btn" class="btn btn-sm btn-info" style="margin-left: 10px;">同步数据</button>
                                <button id="clear-data-btn" class="btn btn-sm btn-warning" style="margin-left: 10px;">清空数据</button>
                                <button id="generate-student-analysis-btn" class="btn btn-sm btn-info" style="margin-left: 10px;">生成分析报告</button>
                            </div>
                            <div class="data-table-container">
                                <table id="admin-data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="select-all-checkbox"></th>
                                            <th>姓名</th>
                                            <th>年级</th>
                                            <th>班级</th>
                                            <th>测评日期</th>
                                            <th>综合得分</th>
                                            <th>等级</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- 动态生成的表格内容 -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- 班级/年级分析报告 -->
                            <h4 style="margin-top: 20px;">班级/年级分析报告</h4>
                            <div class="analysis-form">
                                <div class="form-group">
                                    <label for="analysis-type">分析类型</label>
                                    <select id="analysis-type">
                                        <option value="class">班级分析</option>
                                        <option value="grade">年级分析</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="analysis-grade">选择年级</label>
                                    <select id="analysis-grade">
                                        <option value="">所有年级</option>
                                        <option value="1">一年级</option>
                                        <option value="2">二年级</option>
                                        <option value="3">三年级</option>
                                        <option value="4">四年级</option>
                                        <option value="5">五年级</option>
                                        <option value="6">六年级</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="analysis-class">选择班级</label>
                                    <input type="text" id="analysis-class" placeholder="输入班级（如1班）" style="width: 200px;">
                                </div>
                                <div class="form-group">
                                    <button id="generate-analysis-btn" class="btn btn-primary">生成分析报告</button>
                                    <button id="download-word-btn" class="btn btn-info" style="margin-left: 10px;">下载Word</button>
                                    <button id="download-pdf-btn" class="btn btn-success" style="margin-left: 10px;">下载PDF</button>
                                </div>
                            </div>
                            
                            <!-- 分析报告展示 -->
                            <div id="class-grade-analysis" style="margin-top: 20px;">
                                <!-- 动态生成的分析报告内容 -->
                            </div>
                        </div>

                        <!-- 测评报告 -->
                        <div id="reports" class="admin-tab" style="display: none;">
                            <h4>测评报告统计</h4>
                            <div class="report-stats">
                                <div class="stat-item">
                                    <span class="stat-label">总测评人数</span>
                                    <span id="total-students" class="stat-value">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">平均分</span>
                                    <span id="average-score" class="stat-value">0.00</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">优秀率</span>
                                    <span id="excellent-rate" class="stat-value">0%</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">良好率</span>
                                    <span id="good-rate" class="stat-value">0%</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">合格率</span>
                                    <span id="pass-rate" class="stat-value">0%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="grade-distribution-chart" width="400" height="300"></canvas>
                                <canvas id="radar-chart" width="400" height="300"></canvas>
                            </div>
                        </div>

                        <!-- 系统设置 -->
                        <div id="settings" class="admin-tab" style="display: none;">
                            <h4>系统设置</h4>
                            <div class="form-group">
                                <label for="new-password">修改密码</label>
                                <input type="password" id="new-password" placeholder="请输入新密码">
                            </div>
                            <div class="form-group">
                                <label for="confirm-password">确认密码</label>
                                <input type="password" id="confirm-password" placeholder="请再次输入新密码">
                            </div>
                            <div class="form-group">
                                <button id="change-password-btn" class="btn btn-primary">修改密码</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 找回密码 -->
            <section id="forgot-password" style="display: none;">
                <h2>找回密码</h2>
                <div class="forgot-password-container">
                    <p>请联系系统管理员重置密码，联系邮箱：admin@hwzxxx.com</p>
                    <button id="back-to-login" class="btn">返回登录</button>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 惠王中心小学学生科学素养测评系统 - 综合测评平台</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>